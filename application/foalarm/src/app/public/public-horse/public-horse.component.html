<ng-container>
  <div class="card primaryCard" *ngIf="horse$ | async as horse">
    <div class="card-body" (click)="isCollapsed = !isCollapsed">
      <small>Horse</small>
      <span class="pull-right">
        <a class="btn btn-social-icon">
          <span [ngClass]="horse.state ? 'active' : 'inactive'">
            <i class="fa fa-circle" aria-hidden="true"></i>
          </span>
        </a>
      </span>
      <h6 class="card-title">{{horse.displayName}}</h6>
      <div [collapse]="!isCollapsed">
        <small>Due Date</small>
        <span class="inline-small-text"> {{horse.dueDate | date}}</span>
        <small>Owner</small>
        <span class="inline-small-text">
          <app-horse-owner [userKey]="horse.ownerUID"></app-horse-owner>
        </span>
        <!-- If the horse has an alarmID -->
        <ng-container *ngIf="horse.alarmId">
            <small>Activity</small>
            <button type="button" class="btn btn-primary btn-block" [routerLink]="['/profile/data/', horse.alarmId]">
                View Activity
            </button>
          </ng-container>
          <!-- If the horse has a camera link -->
          <ng-container *ngIf="horse.camera">
              <small>Foaling Camera</small>
              <button type="button" class="btn btn-primary btn-block" [routerLink]="['/profile/camera/', horse.id]">
                View Camera Feed
            </button>
            </ng-container>
      </div>
    </div>
  </div>
</ng-container>